<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>素数ジェネレータ</title>
	<link href="css/base.css" rel="stylesheet" type="text/css">
	<script type="text/javascript" src="js/base.js"></script>
</head >
<body>
	<p><h2>素数ジェネレータ</h2></p>
	<pre>
		<code>
			function nextPrime(){
				if(typeof nextPrime.p === "undefined"){
					nextPrime.p = 1;
				}
				if(!(nextPrime.p==1 || nextPrime.p==2)){
					while(1){
						var prePrime = nextPrime.p;
						if(nextPrime.p % 2 == 0){
							nextPrime.p += 1;
						}else{
							for(var i=3; i*i<=nextPrime.p; i+=2){
								if(nextPrime.p % i == 0){
									nextPrime.p += 1;
									break;
								}
							}
						}
						if(nextPrime.p==prePrime){
							break;
						}
					}
				}
				var box = document.getElementById("primes");
				var p = document.createElement("p");
				var textNode = document.createTextNode(nextPrime.p);
				p.appendChild(textNode);
				box.appendChild(p);
				nextPrime.p += 1;
			}
		</code>
	</pre>
	<button onClick="nextPrime()">Next</button>
	<br>
	<div id="primes"></div>
</body>
</html>
